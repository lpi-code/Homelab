# Terraform Variables for Dev Environment
# Generated by Ansible playbook

# Proxmox Configuration
proxmox_host = "{{ inventory_hostname }}"
proxmox_node = "{{ proxmox_node | default('pve02') }}"
proxmox_user = "{{ proxmox_user }}@pve"
proxmox_password = "{{ proxmox_password }}"
proxmox_tls_insecure = {{ proxmox_tls_insecure | default(true) | lower }}

# Cluster Configuration
cluster_name = "{{ cluster_name | default('talos-cluster') }}"
environment = "{{ environment | default('dev') }}"

# VM Configuration
control_plane_count = {{ control_plane_count | default(3) }}
worker_count = {{ worker_count | default(3) }}

# VM IDs - use different IDs to avoid conflicts with existing VMs
control_plane_vm_ids = {{ control_plane_vm_ids | default([301, 302, 303]) | to_json }}
worker_vm_ids = {{ worker_vm_ids | default([401, 402, 403]) | to_json }}
nat_gateway_vm_id = {{ nat_gateway_vm_id | default(300) }}

# VM Specifications
control_plane_memory = {{ control_plane_memory | default(4096) }}
control_plane_cores = {{ control_plane_cores | default(2) }}
worker_memory = {{ worker_memory | default(8192) }}
worker_cores = {{ worker_cores | default(4) }}
nat_gateway_memory = {{ nat_gateway_memory | default(1024) }}
nat_gateway_cores = {{ nat_gateway_cores | default(1) }}

# Storage Configuration
vm_disk_size = "{{ vm_disk_size | default('32G') }}"
storage_pool = "{{ proxmox_default_storage_pool }}"

# Network Configuration
talos_network_cidr = "{{ talos_network_cidr | default('10.0.0.0/16') }}"
nat_gateway_enabled = {{ enable_nat_gateway | default(false) | lower }}

# Talos Configuration
talos_version = "{{ talos_version | default('v1.7.0') }}"
kubernetes_version = "{{ kubernetes_version | default('v1.29.0') }}"

# SSH Configuration
ssh_public_keys = {{ ssh_public_keys | default([]) | to_json }}



# Tunnel Configuration
tunnel_local_port = {{ tunnel_local_port }}

# Node Tunnel Configuration
control_plane_tunnel_ports = {{ control_plane_tunnel_ports | to_json }}
worker_tunnel_ports = {{ worker_tunnel_ports | to_json }}

openwrt_template_file_id = "{{ openwrt_template_file_id }}"
talos_image_file_id = "{{ talos_image_file_id }}"